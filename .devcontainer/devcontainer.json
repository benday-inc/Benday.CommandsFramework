// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/dotnet
{
	"name": "C# (.NET)",
	// Use base Ubuntu image and add .NET via features for better control
	"image": "mcr.microsoft.com/devcontainers/base:ubuntu-24.04",
	"features": {
		"ghcr.io/devcontainers/features/dotnet:2": {
			"version": "9.0",
			"installUsingApt": false
		},
		"ghcr.io/devcontainers/features/powershell:1": {},
		"ghcr.io/devcontainers/features/github-cli:1": {}
	},

	// Use 'postCreateCommand' to run commands after the container is created.
	"postCreateCommand": "dotnet restore",

	// Configure tool-specific properties.
	"customizations": {
		"vscode": {
			"extensions": [
				"ms-dotnettools.csharp",
				"ms-dotnettools.csdevkit",
				"ms-dotnettools.vscodeintellicode-csharp",
				"ms-vscode.vscode-json",
				"ms-vscode.powershell",
				"formulahendry.dotnet-test-explorer",
				"jchannon.csharpextensions",
				"kreativ-software.csharpextensions",
				"patcx.vscode-nuget-gallery"
			],
			"settings": {
				"dotnet.defaultSolution": "Benday.CommandsFramework.sln",
				"omnisharp.enableRoslynAnalyzers": true,
				"omnisharp.enableEditorConfigSupport": true,
				"files.exclude": {
					"**/bin": true,
					"**/obj": true
				}
			}
		}
	}

	// Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.
	// "remoteUser": "root"
}
